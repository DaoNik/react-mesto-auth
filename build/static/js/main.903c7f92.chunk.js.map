{"version":3,"sources":["images/logo.svg","components/Header.js","utils/api.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","images/Avatar.png","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js"],"names":["Header","className","href","src","logo","alt","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","fetch","method","then","_checkRequest","name","description","body","JSON","stringify","about","link","likes","avatar","cardId","authorization","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isLiked","some","i","_id","isOwn","owner","cardDeleteButtonClassName","onClick","type","length","Main","props","onEditProfile","onEditAvatar","onAddPlace","cards","map","Footer","Date","getFullYear","ImagePopup","onClose","isOpen","PopupWithForm","title","children","onSubmit","submitButtonText","EditProfilePopup","useState","setName","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","inputAvatarLink","useRef","current","focus","onUpdateAvatar","ref","AddPlacePopup","setLink","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","api","addCards","newCards","catch","err","console","log","getUserInfo","user","Provider","deleteLike","newCard","state","c","addLike","deleteCard","filter","addNewUserInfo","updateAvatar","addNewCard","ReactDOM","render","document","querySelector"],"mappings":"yLAAe,MAA0B,iC,OCa1BA,MAVf,WACE,OACE,wBAAQC,UAAU,SAAlB,SACE,mBAAGC,KAAK,KAAKD,UAAU,eAAvB,SACE,qBAAKE,IAAKC,EAAMC,IAAI,0DAAuBJ,UAAU,uB,eC+F9C,M,WArGb,WAAYK,GAAU,oBACpBC,KAAKC,KAAOF,EAAQG,IACpBF,KAAKG,SAAWJ,EAAQK,Q,iDAG1B,SAAcC,GACZ,OAAIA,EAAIC,GACCD,EAAIE,OAGNC,QAAQC,OAAO,iG,yBAGxB,WAAe,IAAD,OACZ,OAAOC,MAAM,GAAD,OAAIV,KAAKC,KAAT,YAAyB,CACnCU,OAAQ,MACRP,QAASJ,KAAKG,WACbS,MAAK,SAACP,GACP,OAAO,EAAKQ,cAAcR,Q,4BAI9B,SAAeS,EAAMC,GAAc,IAAD,OAChC,OAAOL,MAAM,GAAD,OAAIV,KAAKC,KAAT,YAAyB,CACnCU,OAAQ,QACRP,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnBJ,KAAMA,EACNK,MAAOJ,MAERH,MAAK,SAACP,GACP,OAAO,EAAKQ,cAAcR,Q,sBAI9B,WAAY,IAAD,OACT,OAAOK,MAAM,GAAD,OAAIV,KAAKC,KAAT,SAAsB,CAChCU,OAAQ,MACRP,QAASJ,KAAKG,WACbS,MAAK,SAACP,GACP,OAAO,EAAKQ,cAAcR,Q,wBAI9B,YAAgE,IAAD,OAAlDS,EAAkD,EAAlDA,KAAMM,EAA4C,EAA5CA,KAAMC,EAAsC,EAAtCA,MAEvB,OAAOX,MAAM,GAAD,OAAIV,KAAKC,KAAT,SAAsB,CAChCU,OAAQ,OACRP,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnBJ,KAAMA,EACNM,KAAMA,EACNC,MAAOA,MAERT,MAAK,SAACP,GACP,OAAO,EAAKQ,cAAcR,Q,0BAI9B,SAAaiB,GAAoC,IAAD,OAE9C,OAAOZ,MAAM,GAAD,OAAIV,KAAKC,KAAT,mBAAgC,CAC1CU,OAAQ,QACRP,QAASJ,KAAKG,SACda,KAAMC,KAAKC,UAAU,CACnBI,OAAQA,MAETV,MAAK,SAACP,GACP,OAAO,EAAKQ,cAAcR,Q,qBAI9B,SAAQkB,GAAS,IAAD,OACd,OAAOb,MAAM,GAAD,OAAIV,KAAKC,KAAT,uBAA4BsB,GAAU,CAChDZ,OAAQ,MACRP,QAASJ,KAAKG,WACbS,MAAK,SAACP,GACP,OAAO,EAAKQ,cAAcR,Q,wBAI9B,SAAWkB,GAAS,IAAD,OACjB,OAAOb,MAAM,GAAD,OAAIV,KAAKC,KAAT,uBAA4BsB,GAAU,CAChDZ,OAAQ,SACRP,QAASJ,KAAKG,WACbS,MAAK,SAACP,GACP,OAAO,EAAKQ,cAAcR,Q,wBAI9B,SAAWkB,GAAoC,IAAD,OAE5C,OAAOb,MAAM,GAAD,OAAIV,KAAKC,KAAT,iBAAsBsB,GAAU,CAC1CZ,OAAQ,SACRP,QAASJ,KAAKG,WACbS,MAAK,SAACP,GACP,OAAO,EAAKQ,cAAcR,U,KAKjB,CAAQ,CACrBH,IAAK,yCACLE,QAAS,CACPoB,cAAe,uCACf,eAAgB,sBCvGLC,EADYC,IAAMC,gBCkDlBC,MAjDf,YAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aACvCC,EAAcP,IAAMQ,WAAWT,GAC/BU,EAAUN,EAAKR,MAAMe,MAAK,SAACC,GAAD,OAAOA,EAAEC,MAAQL,EAAYK,OACvDC,EAAQV,EAAKW,MAAMF,MAAQL,EAAYK,IAEvCG,EAAyB,kCAC7BF,EAAQ,GAAK,kCAef,OACE,qBAAI7C,UAAU,gBAAd,UACE,oBAAIA,UAAU,sBAAd,SAAqCmC,EAAKf,OAC1C,qBACE4B,QAhBN,WACEZ,EAAYD,IAgBRjC,IAAKiC,EAAKT,KACVtB,IAAK+B,EAAKf,KACVpB,UAAU,sBAEZ,wBACEiD,KAAK,SACLjD,UAAS,4BACPyC,EAAU,2BAA6B,IAEzC,aAAW,sEACX,cAAaN,EAAKR,MAAMuB,OACxBF,QAxBN,WACEX,EAAWF,MAyBT,wBACEc,KAAK,SACLjD,UAAW+C,EACX,aAAW,yIACXC,QA1BN,WACEV,EAAaH,UCiCFgB,MAlDf,SAAcC,GACZ,IAAMb,EAAcP,IAAMQ,WAAWT,GAErC,OACE,iCACE,0BAAS/B,UAAU,UAAnB,UACE,sBAAKA,UAAU,mBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCuC,EAAYnB,OAC5C,mBAAGpB,UAAU,oBAAb,SAAkCuC,EAAYd,QAC9C,wBACEwB,KAAK,SACLD,QAASI,EAAMC,cACfrD,UAAU,uBACV,aAAW,+aAGf,qBAAKA,UAAU,4BAA4BgD,QAASI,EAAME,aAA1D,SACE,qBACEtD,UAAU,kBACVE,IAAKqC,EAAYX,OACjBxB,IAAI,sFAGR,wBACE6C,KAAK,SACLD,QAASI,EAAMG,WACfvD,UAAU,sBACV,aAAW,+NAIf,yBAASA,UAAU,UAAnB,SACE,oBAAIA,UAAU,iBAAd,SACGoD,EAAMI,MAAMC,KAAI,SAACtB,GAChB,OACE,cAAC,EAAD,CAEEA,KAAMA,EACNC,YAAagB,EAAMhB,YACnBC,WAAYe,EAAMf,WAClBC,aAAcc,EAAMd,cAJfH,EAAKS,gBC5BXc,MAVf,WACE,OACE,wBAAQ1D,UAAU,SAAlB,SACE,oBAAGA,UAAU,gBAAb,mBACU,IAAI2D,MAAOC,cADrB,sBCcSC,MAjBf,YAAwC,IAAlB1B,EAAiB,EAAjBA,KAAM2B,EAAW,EAAXA,QAC1B,OACE,qBAAK9D,UAAS,2BAAsBmC,EAAK4B,OAAS,eAAiB,IAAnE,SACE,sBAAK/D,UAAU,wBAAf,UACE,oBAAIA,UAAU,oBAAd,SAAmCmC,EAAKf,OACxC,qBAAKlB,IAAKiC,EAAKT,KAAMtB,IAAK+B,EAAKf,KAAMpB,UAAU,sBAC/C,wBACEgD,QAASc,EACTb,KAAK,SACLjD,UAAU,oBACV,aAAW,kMCZN,MAA0B,mCCgC1BgE,MA9Bf,YAQI,IAPF5C,EAOC,EAPDA,KACA6C,EAMC,EANDA,MACAC,EAKC,EALDA,SACAH,EAIC,EAJDA,OACAD,EAGC,EAHDA,QACAK,EAEC,EAFDA,SACAC,EACC,EADDA,iBAEA,OACE,qBAAKpE,UAAS,sBAAiBoB,EAAjB,YAAyB2C,EAAS,eAAiB,IAAjE,SACE,sBAAK/D,UAAU,mBAAf,UACE,uBAAMA,UAAU,cAAcoB,KAAMA,EAAM+C,SAAUA,EAApD,UACE,oBAAInE,UAAU,eAAd,SAA8BiE,IAC7BC,EACD,wBAAQjB,KAAK,SAASjD,UAAU,4BAAhC,SACGoE,OAGL,wBACEpB,QAASc,EACTb,KAAK,SACLjD,UAAU,oBACV,aAAW,kMC8CNqE,MAnEf,SAA0BjB,GACxB,IAAMb,EAAcP,IAAMQ,WAAWT,GAErC,EAAwBC,IAAMsC,SAAS/B,EAAYnB,MAAnD,mBAAOA,EAAP,KAAamD,EAAb,KACA,EAAsCvC,IAAMsC,SAAS/B,EAAYd,OAAjE,mBAAOJ,EAAP,KAAoBmD,EAApB,KAwBA,OALAxC,IAAMyC,WAAU,WACdF,EAAQhC,EAAYnB,MACpBoD,EAAejC,EAAYd,SAC1B,CAACc,EAAaa,EAAMW,SAGrB,eAAC,EAAD,CACE3C,KAAM,OACN6C,MAAO,4HACPF,OAAQX,EAAMW,OACdD,QAASV,EAAMU,QACfK,SApBJ,SAAsBO,GACpBA,EAAEC,iBAEFvB,EAAMwB,aAAa,CACjBxD,OACAK,MAAOJ,KAgBP+C,iBAAkB,yDANpB,UAQE,uBACEpE,UAAU,uCACV6E,GAAG,OACHzD,KAAK,OACL6B,KAAK,OACL6B,YAAY,6CACZC,UAAU,IACVC,UAAU,KACVC,MAAO7D,EACP8D,SAxCN,SAA0BR,GACxBH,EAAQG,EAAES,OAAOF,QAwCbG,UAAQ,IAEV,sBAAMpF,UAAU,eAAe6E,GAAG,eAClC,uBACE7E,UAAU,sCACV6E,GAAG,MACHzD,KAAK,MACL6B,KAAK,OACL6B,YAAY,8FACZC,UAAU,IACVC,UAAU,MACVC,MAAO5D,EACP6D,SAjDN,SAAiCR,GAC/BF,EAAeE,EAAES,OAAOF,QAiDpBG,UAAQ,IAEV,sBAAMpF,UAAU,eAAe6E,GAAG,kBC9BzBQ,MAjCf,SAAyBjC,GACvB,IAAMkC,EAAkBtD,IAAMuD,OAAO,MASrC,OACE,eAAC,EAAD,CACEnE,KAAM,gBACN6C,MAAO,wFACPF,OAAQX,EAAMW,OACdD,QAASV,EAAMU,QACfK,SAdJ,SAAsBO,GACpBA,EAAEC,iBACFW,EAAgBE,QAAQC,QACxBrC,EAAMsC,eAAe,CACnB9D,OAAQ0D,EAAgBE,QAAQP,SAWhCb,iBAAkB,yDANpB,UAQE,uBACEpE,UAAU,eACV6E,GAAG,cACHzD,KAAK,OACL6B,KAAK,MACL6B,YAAY,qGACZa,IAAKL,EACLF,UAAQ,IAEV,sBAAMpF,UAAU,eAAe6E,GAAG,0BCgCzBe,MA5Df,SAAuBxC,GACrB,MAAwBpB,IAAMsC,SAAS,IAAvC,mBAAOlD,EAAP,KAAamD,EAAb,KACA,EAAwBvC,IAAMsC,SAAS,IAAvC,mBAAO5C,EAAP,KAAamE,EAAb,KAqBA,OALA7D,IAAMyC,WAAU,WACdF,EAAQ,IACRsB,EAAQ,MACP,CAACzC,EAAMW,SAGR,eAAC,EAAD,CACE3C,KAAM,MACN6C,MAAO,gEACPF,OAAQX,EAAMW,OACdD,QAASV,EAAMU,QACfK,SAjBJ,SAA8BO,GAC5BA,EAAEC,iBAEFvB,EAAMG,WAAWnC,EAAMM,IAerB0C,iBAAkB,6CANpB,UAQE,uBACEpE,UAAU,wCACV6E,GAAG,QACHzD,KAAK,OACL6B,KAAK,OACL6B,YAAY,mDACZC,UAAU,IACVC,UAAU,KACVC,MAAO7D,EACP8D,SArCN,SAA0BR,GACxBH,EAAQG,EAAES,OAAOF,QAqCbG,UAAQ,IAEV,sBAAMpF,UAAU,eAAe6E,GAAG,gBAClC,uBACE7E,UAAU,6CACV6E,GAAG,aACHzD,KAAK,OACL6B,KAAK,MACL6B,YAAY,qGACZG,MAAOvD,EACPwD,SA5CN,SAA0BR,GACxBmB,EAAQnB,EAAES,OAAOF,QA4CbG,UAAQ,IAEV,sBAAMpF,UAAU,eAAe6E,GAAG,yBC4IzBiB,MAzLf,WACE,MACE9D,IAAMsC,UAAS,GADjB,mBAAOyB,EAAP,KAA8BC,EAA9B,KAEA,EAAsDhE,IAAMsC,UAAS,GAArE,mBAAO2B,EAAP,KAA4BC,EAA5B,KACA,EACElE,IAAMsC,UAAS,GADjB,mBAAO6B,EAAP,KAA+BC,EAA/B,KAEA,EAAwCpE,IAAMsC,SAAS,CACrDP,QAAQ,EACR3C,KAAM,GACNM,KAAM,KAHR,mBAAO2E,EAAP,KAAqBC,EAArB,KAKA,EAAsCtE,IAAMsC,SAAS,CACnDlD,KAAM,iEACNK,MAAO,sHACPG,OAAQA,IAHV,mBAAOW,EAAP,KAAoBgE,EAApB,KAKA,EAA0BvE,IAAMsC,SAAS,IAAzC,mBAAOd,EAAP,KAAcgD,EAAd,KAuHA,SAASC,IACPT,GAAyB,GACzBI,GAA0B,GAC1BF,GAAuB,GACvBI,EAAgB,CACdvC,QAAQ,EACR3C,KAAM,GACNM,KAAM,KAIV,OAhIAM,IAAMyC,WAAU,WACdiC,EACGC,WACAzF,MAAK,SAAC0F,GACLJ,EAASI,MAEVC,OAAM,SAACC,GACNC,QAAQC,IAAR,gDAAuBF,SAE1B,IAyCH9E,IAAMyC,WAAU,WACdiC,EACGO,cACA/F,MAAK,SAACgG,GACLX,EAAeW,MAEhBL,OAAM,SAACC,GACNC,QAAQC,IAAR,gDAAuBF,SAE1B,IAsED,eAAC,EAAmBK,SAApB,CAA6BlC,MAAO1C,EAApC,UACE,cAAC,EAAD,IAEA,cAAC,EAAD,CACEc,cApEN,WACE+C,GAA0B,IAoEtB7C,WAjEN,WACE2C,GAAuB,IAiEnB5C,aA1EN,WACE0C,GAAyB,IA0ErB5D,YA/DN,SAAyBD,GACvBmE,EAAgB,CACdvC,QAAQ,EACR3C,KAAMe,EAAKf,KACXM,KAAMS,EAAKT,QA4DT8B,MAAOA,EACPnB,WA/HN,SAAwBF,GACNA,EAAKR,MAAMe,MAAK,SAACC,GAAD,OAAOA,EAAEC,MAAQL,EAAYK,OAG3D8D,EACGU,WAAWjF,EAAKS,KAChB1B,MAAK,SAACmG,GACLb,GAAS,SAACc,GAAD,OACPA,EAAM7D,KAAI,SAAC8D,GAAD,OAAQA,EAAE3E,MAAQT,EAAKS,IAAMyE,EAAUE,WAGpDV,OAAM,SAACC,GACNC,QAAQC,IAAR,gDAAuBF,OAG3BJ,EACGc,QAAQrF,EAAKS,KACb1B,MAAK,SAACmG,GACLb,GAAS,SAACc,GAAD,OACPA,EAAM7D,KAAI,SAAC8D,GAAD,OAAQA,EAAE3E,MAAQT,EAAKS,IAAMyE,EAAUE,WAGpDV,OAAM,SAACC,GACNC,QAAQC,IAAR,gDAAuBF,QAyGzBxE,aApGN,SAA0BH,GACxBuE,EACGe,WAAWtF,EAAKS,KAChB1B,MAAK,WACJsF,GAAS,SAACc,GAAD,OAAWA,EAAMI,QAAO,SAACH,GAAD,OAAOA,EAAE3E,MAAQT,EAAKS,aAExDiE,OAAM,SAACC,GACNC,QAAQC,IAAR,gDAAuBF,UAgGzB,cAAC,EAAD,IAEA,cAAC,EAAD,CAAY3E,KAAMkE,EAAcvC,QAAS2C,IAEzC,cAAC,EAAD,CACE1C,OAAQoC,EACRrC,QAAS2C,EACT7B,aApEN,YAA4C,IAAhBxD,EAAe,EAAfA,KAAMK,EAAS,EAATA,MAChCiF,EACGiB,eAAevG,EAAMK,GACrBP,MAAK,WACJqF,EAAe,2BAAKhE,GAAN,IAAmBnB,KAAMA,EAAMK,MAAOA,KACpDgF,OAEDI,OAAM,SAACC,GACNC,QAAQC,IAAR,gDAAuBF,UA+DzB,cAAC,EAAD,CACE/C,OAAQgC,EACRjC,QAAS2C,EACTf,eA9DN,YAAyC,IAAX9D,EAAU,EAAVA,OAC5B8E,EACGkB,aAAahG,GACbV,MAAK,WACJqF,EAAe,2BAAKhE,GAAN,IAAmBX,OAAQA,KACzC6E,OAEDI,OAAM,SAACC,GACNC,QAAQC,IAAR,gDAAuBF,UAyDzB,cAAC,EAAD,CACE/C,OAAQkC,EACRnC,QAAS2C,EACTlD,WAxDN,SAAwBnC,EAAMM,GAC5BgF,EACGmB,WAAW,CAAEzG,OAAMM,OAAMC,MAAO,IAChCT,MAAK,SAACmG,GACLb,EAAS,CAACa,GAAF,mBAAc7D,KACtBiD,OAEDI,OAAM,SAACC,GACNC,QAAQC,IAAR,gDAAuBF,cC3I/BgB,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,cAAc,W","file":"static/js/main.903c7f92.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from \"react\";\nimport logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <a href=\"./\" className=\"header__link\">\n        <img src={logo} alt=\"Логотип Mesto-Russia\" className=\"header__image\" />\n      </a>\n    </header>\n  );\n}\n\nexport default Header;\n","class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _checkRequest(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(\"Произошла ошибка\");\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}users/me`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  addNewUserInfo(name, description) {\n    return fetch(`${this._url}users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: description,\n      }),\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  addCards() {\n    return fetch(`${this._url}cards`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  addNewCard({ name, link, likes } /*, renderCreating, button*/) {\n    // renderCreating(true, button);\n    return fetch(`${this._url}cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n        likes: likes,\n      }),\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  updateAvatar(avatar /*, renderSaving, button*/) {\n    // renderSaving(true, button);\n    return fetch(`${this._url}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  addLike(cardId) {\n    return fetch(`${this._url}cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  deleteLike(cardId) {\n    return fetch(`${this._url}cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  deleteCard(cardId /*renderDeleting, button*/) {\n    // renderDeleting(true, button);\n    return fetch(`${this._url}cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n}\n\nexport default new Api({\n  url: \"https://nomoreparties.co/v1/cohort-29/\",\n  headers: {\n    authorization: \"965be665-caac-4684-953a-3ef75da5404d\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n","import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\nexport default CurrentUserContext;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = `gallery__card-btn-trash ${\n    isOwn ? \"\" : \"gallery__card-btn-trash_hidden\"\n  }`;\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteCard() {\n    onCardDelete(card);\n  }\n\n  return (\n    <li className=\"gallery__card\">\n      <h2 className=\"gallery__card-title\">{card.name}</h2>\n      <img\n        onClick={handleClick}\n        src={card.link}\n        alt={card.name}\n        className=\"gallery__card-img\"\n      />\n      <button\n        type=\"button\"\n        className={`gallery__card-btn ${\n          isLiked ? \"gallery__card-btn_active\" : \"\"\n        }`}\n        aria-label=\"Кнопка лайка\"\n        data-before={card.likes.length}\n        onClick={handleLikeClick}\n      ></button>\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        aria-label=\"Кнопка удаления карточки\"\n        onClick={handleDeleteCard}\n      ></button>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport Card from \"./Card\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__wrapper\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n          <button\n            type=\"button\"\n            onClick={props.onEditProfile}\n            className=\"profile__button-edit\"\n            aria-label=\"Кнопка для открытия окна редактирования имени пользователя и рода деятельности\"\n          ></button>\n        </div>\n        <div className=\"profile__container-avatar\" onClick={props.onEditAvatar}>\n          <img\n            className=\"profile__avatar\"\n            src={currentUser.avatar}\n            alt=\"Аватар профиля\"\n          />\n        </div>\n        <button\n          type=\"button\"\n          onClick={props.onAddPlace}\n          className=\"profile__button-add\"\n          aria-label=\"Кнопка для открытия окна добавления мест\"\n        ></button>\n      </section>\n\n      <section className=\"gallery\">\n        <ul className=\"gallery__cards\">\n          {props.cards.map((card) => {\n            return (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__title\">\n        &copy; {new Date().getFullYear()} Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup popup_view ${card.isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__view-container\">\n        <h2 className=\"popup__view-title\">{card.name}</h2>\n        <img src={card.link} alt={card.name} className=\"popup__view-image\" />\n        <button\n          onClick={onClose}\n          type=\"button\"\n          className=\"popup__btn-closed\"\n          aria-label=\"Кнопка закрытия всплывающего окна\"\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","export default __webpack_public_path__ + \"static/media/Avatar.727b5baa.png\";","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  children,\n  isOpen,\n  onClose,\n  onSubmit,\n  submitButtonText,\n}) {\n  return (\n    <div className={`popup popup_${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__container\">\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\n          <h2 className=\"popup__title\">{title}</h2>\n          {children}\n          <button type=\"submit\" className=\"popup__btn popup__btn-add\">\n            {submitButtonText}\n          </button>\n        </form>\n        <button\n          onClick={onClose}\n          type=\"button\"\n          className=\"popup__btn-closed\"\n          aria-label=\"Кнопка закрытия всплывающего окна\"\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState(currentUser.name);\n  const [description, setDescription] = React.useState(currentUser.about);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name={\"edit\"}\n      title={\"Редактировать профиль\"}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      submitButtonText={\"Сохранить\"}\n    >\n      <input\n        className=\"popup__input popup__input_value_name\"\n        id=\"name\"\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Никнейм\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={name}\n        onChange={handleChangeName}\n        required\n      />\n      <span className=\"popup__error\" id=\"name-error\"></span>\n      <input\n        className=\"popup__input popup__input_value_job\"\n        id=\"job\"\n        name=\"job\"\n        type=\"text\"\n        placeholder=\"Род деятельности\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={description}\n        onChange={handleChangeDescription}\n        required\n      />\n      <span className=\"popup__error\" id=\"job-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const inputAvatarLink = React.useRef(null);\n  function handleSubmit(e) {\n    e.preventDefault();\n    inputAvatarLink.current.focus();\n    props.onUpdateAvatar({\n      avatar: inputAvatarLink.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"update-avatar\"}\n      title={\"Обновить аватар\"}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      submitButtonText={\"Сохранить\"}\n    >\n      <input\n        className=\"popup__input\"\n        id=\"avatar-link\"\n        name=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        ref={inputAvatarLink}\n        required\n      />\n      <span className=\"popup__error\" id=\"avatar-link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace(name, link);\n  }\n\n  React.useEffect(() => {\n    setName(\"\");\n    setLink(\"\");\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name={\"add\"}\n      title={\"Новое место\"}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleAddPlaceSubmit}\n      submitButtonText={\"Создать\"}\n    >\n      <input\n        className=\"popup__input popup__input_value_place\"\n        id=\"place\"\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Название\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        value={name}\n        onChange={handleChangeName}\n        required\n      />\n      <span className=\"popup__error\" id=\"place-error\"></span>\n      <input\n        className=\"popup__input popup__input_value_place-link\"\n        id=\"place-link\"\n        name=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        value={link}\n        onChange={handleChangeLink}\n        required\n      />\n      <span className=\"popup__error\" id=\"place-link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport \"../index.css\";\nimport Header from \"./Header\";\nimport api from \"../utils/api\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport avatar from \"../images/Avatar.png\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    isOpen: false,\n    name: \"\",\n    link: \"\",\n  });\n  const [currentUser, setCurrentUser] = React.useState({\n    name: \"Жак-Ив Кусто\",\n    about: \"Исследователь океана\",\n    avatar: avatar,\n  });\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .addCards()\n      .then((newCards) => {\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    if (isLiked) {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => {\n          console.log(`Ошибка: ${err}`);\n        });\n    } else {\n      api\n        .addLike(card._id)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => {\n          console.log(`Ошибка: ${err}`);\n        });\n    }\n  }\n\n  function handleDeleteCard(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((user) => {\n        setCurrentUser(user);\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      isOpen: true,\n      name: card.name,\n      link: card.link,\n    });\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .addNewUserInfo(name, about)\n      .then(() => {\n        setCurrentUser({ ...currentUser, name: name, about: about });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .updateAvatar(avatar)\n      .then(() => {\n        setCurrentUser({ ...currentUser, avatar: avatar });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleAddPlace(name, link) {\n    api\n      .addNewCard({ name, link, likes: 0 })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({\n      isOpen: false,\n      name: \"\",\n      link: \"\",\n    });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header />\n\n      <Main\n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddPlaceClick}\n        onEditAvatar={handleEditAvatarClick}\n        onCardClick={handleCardClick}\n        cards={cards}\n        onCardLike={handleCardLike}\n        onCardDelete={handleDeleteCard}\n      />\n\n      <Footer />\n\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlace}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n    <App />,\n  document.querySelector('.root')\n);\n"],"sourceRoot":""}