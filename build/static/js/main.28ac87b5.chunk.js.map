{"version":3,"sources":["utils/api.js","contexts/CurrentUserContext.js","components/Card.js","images/logo.svg","components/Header.js","components/Main.js","components/Footer.js","components/ImagePopup.js","images/Avatar.png","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","images/Union.svg","images/cross.svg","components/InfoTooltip.js","utils/auth.js","components/RequireAuth.js","components/App.js","index.js"],"names":["options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","fetch","method","then","_checkRequest","name","description","body","JSON","stringify","about","link","likes","avatar","cardId","authorization","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isLiked","some","i","_id","isOwn","owner","cardDeleteButtonClassName","className","onClick","src","alt","type","length","Header","text","onLogout","userEmail","to","logo","Main","props","onEditProfile","onEditAvatar","onAddPlace","cards","map","Footer","Date","getFullYear","ImagePopup","onClose","isOpen","PopupWithForm","title","children","onSubmit","submitButtonText","EditProfilePopup","useState","setName","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","inputAvatarLink","useRef","current","focus","onUpdateAvatar","ref","AddPlacePopup","setLink","Login","email","setEmail","password","setPassword","Register","InfoTooltip","isRegister","union","cross","BASE_URL","checkRequest","status","RequireAuth","Component","component","loggedIn","App","navigate","useNavigate","localStorage","getItem","setUserEmail","setLoggedIn","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","handleCheckRegister","api","addCards","newCards","catch","err","console","log","getUserInfo","user","closeByEscape","key","document","addEventListener","removeEventListener","location","useLocation","path","token","Authorization","data","handleTokenCheck","pathname","Provider","exact","element","deleteLike","newCard","state","c","addLike","deleteCard","filter","removeItem","response","auth","setItem","addNewUserInfo","updateAvatar","addNewCard","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.28ac87b5.chunk.js","sourcesContent":["class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _checkRequest(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(\"Произошла ошибка\");\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}users/me`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  addNewUserInfo(name, description) {\n    return fetch(`${this._url}users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: description,\n      }),\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  addCards() {\n    return fetch(`${this._url}cards`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  addNewCard({ name, link, likes } /*, renderCreating, button*/) {\n    // renderCreating(true, button);\n    return fetch(`${this._url}cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n        likes: likes,\n      }),\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  updateAvatar(avatar /*, renderSaving, button*/) {\n    // renderSaving(true, button);\n    return fetch(`${this._url}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  addLike(cardId) {\n    return fetch(`${this._url}cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  deleteLike(cardId) {\n    return fetch(`${this._url}cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n\n  deleteCard(cardId /*renderDeleting, button*/) {\n    // renderDeleting(true, button);\n    return fetch(`${this._url}cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => {\n      return this._checkRequest(res);\n    });\n  }\n}\n\nexport default new Api({\n  url: \"https://nomoreparties.co/v1/cohort-29/\",\n  headers: {\n    authorization: \"965be665-caac-4684-953a-3ef75da5404d\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n","import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\nexport default CurrentUserContext;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = `gallery__card-btn-trash ${\n    isOwn ? \"\" : \"gallery__card-btn-trash_hidden\"\n  }`;\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteCard() {\n    onCardDelete(card);\n  }\n\n  return (\n    <li className=\"gallery__card\">\n      <h2 className=\"gallery__card-title\">{card.name}</h2>\n      <img\n        onClick={handleClick}\n        src={card.link}\n        alt={card.name}\n        className=\"gallery__card-img\"\n      />\n      <button\n        type=\"button\"\n        className={`gallery__card-btn ${\n          isLiked ? \"gallery__card-btn_active\" : \"\"\n        }`}\n        aria-label=\"Кнопка лайка\"\n        data-before={card.likes.length}\n        onClick={handleLikeClick}\n      ></button>\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        aria-label=\"Кнопка удаления карточки\"\n        onClick={handleDeleteCard}\n      ></button>\n    </li>\n  );\n}\n\nexport default Card;\n","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from \"react\";\nimport logo from \"../images/logo.svg\";\nimport { Link } from \"react-router-dom\";\n\nfunction Header({ link, text, onLogout, userEmail }) {\n  function handleLogout() {\n    if (text === \"Выйти\") {\n      onLogout();\n    }\n  }\n\n  return (\n    <header className=\"header\">\n      <Link to=\"/react-mesto-auth\" className=\"header__link\">\n        <img src={logo} alt=\"Логотип Mesto-Russia\" className=\"header__image\" />\n      </Link>\n      <div className=\"header__auth-block\">\n        <p className=\"header__email\">{userEmail}</p>\n        <Link onClick={handleLogout} className=\"header__link-auth\" to={link}>\n          {text}\n        </Link>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport Card from \"./Card\";\nimport Header from \"./Header\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n      <Header\n        link=\"/react-mesto-auth/sign-in\"\n        userEmail={props.userEmail}\n        onLogout={props.onLogout}\n        text=\"Выйти\"\n      />\n      <main>\n        <section className=\"profile\">\n          <div className=\"profile__wrapper\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n            <button\n              type=\"button\"\n              onClick={props.onEditProfile}\n              className=\"profile__button-edit\"\n              aria-label=\"Кнопка для открытия окна редактирования имени пользователя и рода деятельности\"\n            ></button>\n          </div>\n          <div\n            className=\"profile__container-avatar\"\n            onClick={props.onEditAvatar}\n          >\n            <img\n              className=\"profile__avatar\"\n              src={currentUser.avatar}\n              alt=\"Аватар профиля\"\n            />\n          </div>\n          <button\n            type=\"button\"\n            onClick={props.onAddPlace}\n            className=\"profile__button-add\"\n            aria-label=\"Кнопка для открытия окна добавления мест\"\n          ></button>\n        </section>\n\n        <section className=\"gallery\">\n          <ul className=\"gallery__cards\">\n            {props.cards.map((card) => {\n              return (\n                <Card\n                  key={card._id}\n                  card={card}\n                  onCardClick={props.onCardClick}\n                  onCardLike={props.onCardLike}\n                  onCardDelete={props.onCardDelete}\n                />\n              );\n            })}\n          </ul>\n        </section>\n      </main>\n    </>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__title\">\n        &copy; {new Date().getFullYear()} Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup popup_view ${card.isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__view-container\">\n        <h2 className=\"popup__view-title\">{card.name}</h2>\n        <img src={card.link} alt={card.name} className=\"popup__view-image\" />\n        <button\n          onClick={onClose}\n          type=\"button\"\n          className=\"popup__btn-closed\"\n          aria-label=\"Кнопка закрытия всплывающего окна\"\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","export default __webpack_public_path__ + \"static/media/Avatar.727b5baa.png\";","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  children,\n  isOpen,\n  onClose,\n  onSubmit,\n  submitButtonText,\n}) {\n  return (\n    <div className={`popup popup_${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__container\">\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\n          <h2 className=\"popup__title\">{title}</h2>\n          {children}\n          <button type=\"submit\" className=\"popup__btn popup__btn-add\">\n            {submitButtonText}\n          </button>\n        </form>\n        <button\n          onClick={onClose}\n          type=\"button\"\n          className=\"popup__btn-closed\"\n          aria-label=\"Кнопка закрытия всплывающего окна\"\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState(currentUser.name);\n  const [description, setDescription] = React.useState(currentUser.about);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name={\"edit\"}\n      title={\"Редактировать профиль\"}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      submitButtonText={\"Сохранить\"}\n    >\n      <input\n        className=\"popup__input popup__input_value_name\"\n        id=\"name\"\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Никнейм\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={name}\n        onChange={handleChangeName}\n        required\n      />\n      <span className=\"popup__error\" id=\"name-error\"></span>\n      <input\n        className=\"popup__input popup__input_value_job\"\n        id=\"job\"\n        name=\"job\"\n        type=\"text\"\n        placeholder=\"Род деятельности\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={description}\n        onChange={handleChangeDescription}\n        required\n      />\n      <span className=\"popup__error\" id=\"job-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const inputAvatarLink = React.useRef(null);\n  function handleSubmit(e) {\n    e.preventDefault();\n    inputAvatarLink.current.focus();\n    props.onUpdateAvatar({\n      avatar: inputAvatarLink.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"update-avatar\"}\n      title={\"Обновить аватар\"}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      submitButtonText={\"Сохранить\"}\n    >\n      <input\n        className=\"popup__input\"\n        id=\"avatar-link\"\n        name=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        ref={inputAvatarLink}\n        required\n      />\n      <span className=\"popup__error\" id=\"avatar-link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace(name, link);\n  }\n\n  React.useEffect(() => {\n    setName(\"\");\n    setLink(\"\");\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name={\"add\"}\n      title={\"Новое место\"}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleAddPlaceSubmit}\n      submitButtonText={\"Создать\"}\n    >\n      <input\n        className=\"popup__input popup__input_value_place\"\n        id=\"place\"\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Название\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        value={name}\n        onChange={handleChangeName}\n        required\n      />\n      <span className=\"popup__error\" id=\"place-error\"></span>\n      <input\n        className=\"popup__input popup__input_value_place-link\"\n        id=\"place-link\"\n        name=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        value={link}\n        onChange={handleChangeLink}\n        required\n      />\n      <span className=\"popup__error\" id=\"place-link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport Header from \"./Header\";\n\nexport default function Login({ onSubmit }) {\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleLogin(e) {\n    e.preventDefault();\n\n    onSubmit(email, password);\n  }\n\n  return (\n    <>\n      <Header link=\"/react-mesto-auth/sign-up\" text=\"Зарегистрироваться\" />\n      <section className=\"login\">\n        <h2 className=\"login__title\">Вход</h2>\n        <form onSubmit={handleLogin}>\n          <input\n            className=\"login__input\"\n            value={email}\n            onChange={handleChangeEmail}\n            placeholder=\"Email\"\n          ></input>\n          <input\n            type=\"password\"\n            className=\"login__input\"\n            value={password}\n            onChange={handleChangePassword}\n            placeholder=\"Пароль\"\n          ></input>\n          <button className=\"login__submit\" type=\"submit\">\n            Войти\n          </button>\n        </form>\n      </section>\n    </>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"./Header\";\n\nexport default function Register({ onSubmit }) {\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleRegister(e) {\n    e.preventDefault();\n\n    onSubmit(email, password);\n  }\n\n  return (\n    <>\n      <Header link=\"/react-mesto-auth/sign-in\" text=\"Войти\" />\n      <section className=\"login\">\n        <h2 className=\"login__title\">Регистрация</h2>\n        <form onSubmit={handleRegister}>\n          <input\n            className=\"login__input\"\n            value={email}\n            onChange={handleChangeEmail}\n            placeholder=\"Email\"\n          ></input>\n          <input\n            type=\"password\"\n            className=\"login__input\"\n            value={password}\n            onChange={handleChangePassword}\n            placeholder=\"Пароль\"\n          ></input>\n          <button className=\"login__submit\" type=\"submit\">\n            Зарегистрироваться\n          </button>\n          <Link to=\"/react-mesto-auth/sign-in\" className=\"login__link\">\n            Уже зарегистрированы? Войти\n          </Link>\n        </form>\n      </section>\n    </>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/Union.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/cross.7c6a020b.svg\";","import React from \"react\";\nimport union from \"../images/Union.svg\";\nimport cross from \"../images/cross.svg\";\n\nexport default function InfoTooltip({ isRegister, isOpen, onClose }) {\n  return (\n    <div className={`popup popup_info ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__container\">\n        <img\n          className=\"popup__info-image\"\n          src={isRegister ? union : cross}\n          alt=\"Картинка отражающая успешность регистрации\"\n        />\n        <h2 className=\"popup__title popup__title_info\">\n          {isRegister\n            ? \"Вы успешно зарегистрировались!\"\n            : \"Что-то пошло не так! Попробуйте ещё раз.\"}\n        </h2>\n        <button\n          onClick={onClose}\n          type=\"button\"\n          className=\"popup__btn-closed\"\n          aria-label=\"Кнопка закрытия всплывающего окна\"\n        ></button>\n      </div>\n    </div>\n  );\n}\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nfunction checkRequest(res) {\n  if (res.ok) {\n    return res.json();\n  }\n\n  return Promise.reject(`Произошла ошибка ${res.status}`);\n}\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ password, email }),\n  }).then((response) => {\n    return checkRequest(response);\n  });\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ password, email }),\n  })\n    .then((response) => checkRequest(response))\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem(\"token\", data.token);\n\n        return data;\n      }\n    });\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => checkRequest(res))\n    .then((data) => data);\n};\n","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nexport default function RequireAuth({ component: Component, ...props }) {\n  return props.loggedIn ? (\n    <Component {...props} />\n  ) : (\n    <Navigate to=\"/react-mesto-auth/sign-in\" />\n  );\n}\n","import React from \"react\";\nimport { Routes, Route, useNavigate, useLocation } from \"react-router-dom\";\nimport \"../index.css\";\nimport api from \"../utils/api\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport avatar from \"../images/Avatar.png\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport * as auth from \"../utils/auth\";\nimport RequireAuth from \"./RequireAuth\";\n\nfunction App() {\n  const navigate = useNavigate();\n  const [userEmail, setUserEmail] = React.useState(\n    localStorage.getItem(\"email\") ? localStorage.getItem(\"email\") : \"\"\n  );\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    isOpen: false,\n    name: \"\",\n    link: \"\",\n  });\n  const [currentUser, setCurrentUser] = React.useState({\n    name: \"Жак-Ив Кусто\",\n    about: \"Исследователь океана\",\n    avatar: avatar,\n  });\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .addCards()\n      .then((newCards) => {\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    if (isLiked) {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => {\n          console.log(`Ошибка: ${err}`);\n        });\n    } else {\n      api\n        .addLike(card._id)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => {\n          console.log(`Ошибка: ${err}`);\n        });\n    }\n  }\n\n  function handleDeleteCard(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((user) => {\n        setCurrentUser(user);\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      isOpen: true,\n      name: card.name,\n      link: card.link,\n    });\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .addNewUserInfo(name, about)\n      .then(() => {\n        setCurrentUser({ ...currentUser, name: name, about: about });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .updateAvatar(avatar)\n      .then(() => {\n        setCurrentUser({ ...currentUser, avatar: avatar });\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleAddPlace(name, link) {\n    api\n      .addNewCard({ name, link, likes: 0 })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setSelectedCard({\n      isOpen: false,\n      name: \"\",\n      link: \"\",\n    });\n  }\n\n  React.useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === \"Escape\") {\n        closeAllPopups();\n      }\n    };\n\n    document.addEventListener(\"keydown\", closeByEscape);\n\n    return () => document.removeEventListener(\"keydown\", closeByEscape);\n  }, []);\n\n  function handleLogin(email, password) {\n    auth\n      .authorize(email, password)\n      .then((res) => {\n        setLoggedIn(true);\n        setUserEmail(email);\n        localStorage.setItem(\"email\", email);\n        navigate(\"/react-mesto-auth\");\n      })\n      .catch((err) => {\n        if (err === \"400\") {\n          console.log(\"не передано одно из полей\");\n        } else if (err === \"401\") {\n          console.log(\"пользователь с email не найден\");\n        } else {\n          console.log(`Ошибка: ${err}`);\n        }\n      });\n  }\n\n  function handleRegister(email, password) {\n    auth\n      .register(email, password)\n      .then((res) => {\n        setLoggedIn(true);\n        handleCheckRegister(true);\n        setUserEmail(email);\n        localStorage.setItem(\"email\", email);\n      })\n      .catch((err) => {\n        handleCheckRegister(false);\n        if (err === \"400\") {\n          console.log(\"некорректно заполнено одно из полей\");\n        } else {\n          console.log(`Ошибка: ${err}`);\n        }\n      });\n  }\n\n  function handleCheckRegister(isRegister) {\n    setIsInfoTooltipOpen(true);\n    if (isRegister) {\n      navigate(\"/react-mesto-auth\");\n    }\n  }\n\n  const location = useLocation();\n\n  React.useEffect(() => {\n    handleTokenCheck(location.pathname);\n  }, []);\n\n  function handleTokenCheck(path) {\n    if (localStorage.getItem(\"token\")) {\n      auth\n        .checkToken(localStorage.getItem(\"token\"))\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            navigate(path);\n          }\n        })\n        .catch((err) => {\n          if (err === \"400\") {\n            console.log(\"Токен не передан или передан не в том формате\");\n          } else if (err === \"401\") {\n            console.log(\"Переданный токен некорректен\");\n          } else {\n            console.log(`Ошибка: ${err}`);\n          }\n        });\n    }\n  }\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"email\");\n    setLoggedIn(false);\n    setUserEmail(\"\");\n    navigate(\"/sign-in\");\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Routes>\n        <Route\n          exact\n          path=\"/react-mesto-auth\"\n          element={\n            <RequireAuth\n              loggedIn={loggedIn}\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleDeleteCard}\n              onLogout={handleLogout}\n              userEmail={userEmail}\n            />\n          }\n        />\n        <Route\n          path=\"/react-mesto-auth/sign-up\"\n          element={<Register onSubmit={handleRegister} />}\n        />\n        <Route\n          path=\"/react-mesto-auth/sign-in\"\n          element={<Login onSubmit={handleLogin} />}\n        />\n      </Routes>\n\n      <Footer />\n\n      <InfoTooltip\n        isRegister={loggedIn}\n        isOpen={isInfoTooltipOpen}\n        onClose={closeAllPopups}\n      />\n\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlace}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.querySelector(\".root\")\n);\n"],"sourceRoot":""}